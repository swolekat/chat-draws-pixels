<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat draws Pixels</title>
    <style>
        *, *:before, *:after {
            box-sizing: border-box;
        }

        html, body {
            padding: 0;
            margin: 0;
        }

        .grid {
            font-size: 0;
            width: 100%;
        }

        .grid-cell {
            display: inline-block;
            background: #fff;
            width: 12.5%;
            aspect-ratio: 1 / 1;
        }
    </style>
</head>
<body>
    <div class="grid" id="grid">
    </div>
    <script>
        var grid = document.getElementById('grid');
        var NUMBER_OF_PIXELS = 64;

        for(var x = 0; x < NUMBER_OF_PIXELS; x++){
            var gridCell = document.createElement('div');
            gridCell.id = `${x}`;
            gridCell.className = 'grid-cell';
            grid.appendChild(gridCell);
        }

        var queryParam = window.location.search.replace('?data=', '')
        var data = JSON.parse(atob(queryParam));
        // format is [[index, color], ... ]
        data.forEach(function(item){
           var cell = document.getElementById(item[0]);
           cell.style = 'background: ' + item[1];
        });
    </script>
</body>
</html>